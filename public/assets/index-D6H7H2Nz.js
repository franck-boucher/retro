(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function at(){let t=0,e=0;for(let o=0;o<28;o+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<o,(i&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let o=3;o<=31;o+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<o,(i&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function X(t,e,n){for(let r=0;r<28;r=r+7){const s=t>>>r,c=!(!(s>>>7)&&e==0),l=(c?s|128:s)&255;if(n.push(l),!c)return}const o=t>>>28&15|(e&7)<<4,i=e>>3!=0;if(n.push((i?o|128:o)&255),!!i){for(let r=3;r<31;r=r+7){const s=e>>>r,c=!!(s>>>7),l=(c?s|128:s)&255;if(n.push(l),!c)return}n.push(e>>>31&1)}}const E=4294967296;function V(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let o=0,i=0;function r(s,c){const l=Number(t.slice(s,c));i*=n,o=o*n+l,o>=E&&(i=i+(o/E|0),o=o%E)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),e?ct(o,i):L(o,i)}function dt(t,e){let n=L(t,e);const o=n.hi&2147483648;o&&(n=ct(n.lo,n.hi));const i=st(n.lo,n.hi);return o?"-"+i:i}function st(t,e){if({lo:t,hi:e}=lt(t,e),e<=2097151)return String(E*e+t);const n=t&16777215,o=(t>>>24|e<<8)&16777215,i=e>>16&65535;let r=n+o*6777216+i*6710656,s=o+i*8147497,c=i*2;const l=1e7;return r>=l&&(s+=Math.floor(r/l),r%=l),s>=l&&(c+=Math.floor(s/l),s%=l),c.toString()+G(s)+G(r)}function lt(t,e){return{lo:t>>>0,hi:e>>>0}}function L(t,e){return{lo:t|0,hi:e|0}}function ct(t,e){return e=~e,t?t=~t+1:e+=1,L(t,e)}const G=t=>{const e=String(t);return"0000000".slice(e.length)+e};function R(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function ht(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var C={};const k=kt();function kt(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof C!="object"||C.BUF_BIGINT_DISABLE!=="1")){const n=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),i=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(s){const c=typeof s=="bigint"?s:BigInt(s);if(c>o||c<n)throw new Error(`invalid int64: ${s}`);return c},uParse(s){const c=typeof s=="bigint"?s:BigInt(s);if(c>r||c<i)throw new Error(`invalid uint64: ${s}`);return c},enc(s){return t.setBigInt64(0,this.parse(s),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(s){return t.setBigInt64(0,this.uParse(s),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(s,c){return t.setInt32(0,s,!0),t.setInt32(4,c,!0),t.getBigInt64(0,!0)},uDec(s,c){return t.setInt32(0,s,!0),t.setInt32(4,c,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(n){return typeof n!="string"&&(n=n.toString()),$(n),n},uParse(n){return typeof n!="string"&&(n=n.toString()),q(n),n},enc(n){return typeof n!="string"&&(n=n.toString()),$(n),V(n)},uEnc(n){return typeof n!="string"&&(n=n.toString()),q(n),V(n)},dec(n,o){return dt(n,o)},uDec(n,o){return st(n,o)}}}function $(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function q(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}const T=Symbol.for("@bufbuild/protobuf/text-encoding");function ft(){if(globalThis[T]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[T]={encodeUtf8(n){return t.encode(n)},decodeUtf8(n){return e.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[T]}var p;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(p||(p={}));const yt=34028234663852886e22,St=-34028234663852886e22,wt=4294967295,bt=2147483647,vt=-2147483648;class w{constructor(e=ft().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),o=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],o),o+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(z(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Y(e),R(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.encodeUtf8(e);return this.uint32(n.byteLength),this.raw(n)}float(e){pt(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){z(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){Y(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return Y(e),e=(e<<1^e>>31)>>>0,R(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),o=new DataView(n.buffer),i=k.enc(e);return o.setInt32(0,i.lo,!0),o.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),o=new DataView(n.buffer),i=k.uEnc(e);return o.setInt32(0,i.lo,!0),o.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=k.enc(e);return X(n.lo,n.hi,this.buf),this}sint64(e){let n=k.enc(e),o=n.hi>>31,i=n.lo<<1^o,r=(n.hi<<1|n.lo>>>31)^o;return X(i,r,this.buf),this}uint64(e){let n=k.uEnc(e);return X(n.lo,n.hi,this.buf),this}}class a{constructor(e,n=ft().decodeUtf8){this.decodeUtf8=n,this.varint64=at,this.uint32=ht,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),n=e>>>3,o=e&7;if(n<=0||o<0||o>5)throw new Error("illegal tag: field no "+n+" wire type "+o);return[n,o]}skip(e,n){let o=this.pos;switch(e){case p.Varint:for(;this.buf[this.pos++]&128;);break;case p.Bit64:this.pos+=4;case p.Bit32:this.pos+=4;break;case p.LengthDelimited:let i=this.uint32();this.pos+=i;break;case p.StartGroup:for(;;){const[r,s]=this.tag();if(s===p.EndGroup){if(n!==void 0&&r!==n)throw new Error("invalid end group tag");break}this.skip(s,r)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(o,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return k.dec(...this.varint64())}uint64(){return k.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),o=-(e&1);return e=(e>>>1|(n&1)<<31)^o,n=n>>>1^o,k.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return k.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return k.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.decodeUtf8(this.bytes())}}function Y(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>bt||t<vt)throw new Error("invalid int32: "+t)}function z(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>wt||t<0)throw new Error("invalid uint32: "+t)}function pt(t){if(typeof t=="string"){const e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>yt||t<St))throw new Error("invalid float32: "+t)}function H(){return{owner:"",selectedBy:void 0,X:0,Y:0,height:0,content:""}}const b={encode(t,e=new w){return t.owner!==""&&e.uint32(10).string(t.owner),t.selectedBy!==void 0&&e.uint32(18).string(t.selectedBy),t.X!==0&&e.uint32(24).int64(t.X),t.Y!==0&&e.uint32(32).int64(t.Y),t.height!==0&&e.uint32(40).int64(t.height),t.content!==""&&e.uint32(50).string(t.content),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=H();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.owner=n.string();continue}case 2:{if(r!==18)break;i.selectedBy=n.string();continue}case 3:{if(r!==24)break;i.X=g(n.int64());continue}case 4:{if(r!==32)break;i.Y=g(n.int64());continue}case 5:{if(r!==40)break;i.height=g(n.int64());continue}case 6:{if(r!==50)break;i.content=n.string();continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{owner:f(t.owner)?globalThis.String(t.owner):"",selectedBy:f(t.selectedBy)?globalThis.String(t.selectedBy):void 0,X:f(t.X)?globalThis.Number(t.X):0,Y:f(t.Y)?globalThis.Number(t.Y):0,height:f(t.height)?globalThis.Number(t.height):0,content:f(t.content)?globalThis.String(t.content):""}},toJSON(t){const e={};return t.owner!==""&&(e.owner=t.owner),t.selectedBy!==void 0&&(e.selectedBy=t.selectedBy),t.X!==0&&(e.X=Math.round(t.X)),t.Y!==0&&(e.Y=Math.round(t.Y)),t.height!==0&&(e.height=Math.round(t.height)),t.content!==""&&(e.content=t.content),e},create(t){return b.fromPartial(t??{})},fromPartial(t){const e=H();return e.owner=t.owner??"",e.selectedBy=t.selectedBy??void 0,e.X=t.X??0,e.Y=t.Y??0,e.height=t.height??0,e.content=t.content??"",e}};function K(){return{name:"",hasSelected:void 0}}const v={encode(t,e=new w){return t.name!==""&&e.uint32(10).string(t.name),t.hasSelected!==void 0&&e.uint32(18).string(t.hasSelected),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=K();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.name=n.string();continue}case 2:{if(r!==18)break;i.hasSelected=n.string();continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{name:f(t.name)?globalThis.String(t.name):"",hasSelected:f(t.hasSelected)?globalThis.String(t.hasSelected):void 0}},toJSON(t){const e={};return t.name!==""&&(e.name=t.name),t.hasSelected!==void 0&&(e.hasSelected=t.hasSelected),e},create(t){return v.fromPartial(t??{})},fromPartial(t){const e=K();return e.name=t.name??"",e.hasSelected=t.hasSelected??void 0,e}};function Z(){return{stickies:{},users:{}}}const ut={encode(t,e=new w){return Object.entries(t.stickies).forEach(([n,o])=>{P.encode({key:n,value:o},e.uint32(10).fork()).join()}),Object.entries(t.users).forEach(([n,o])=>{J.encode({key:n,value:o},e.uint32(18).fork()).join()}),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=Z();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;const s=P.decode(n,n.uint32());s.value!==void 0&&(i.stickies[s.key]=s.value);continue}case 2:{if(r!==18)break;const s=J.decode(n,n.uint32());s.value!==void 0&&(i.users[s.key]=s.value);continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{stickies:rt(t.stickies)?Object.entries(t.stickies).reduce((e,[n,o])=>(e[n]=b.fromJSON(o),e),{}):{},users:rt(t.users)?Object.entries(t.users).reduce((e,[n,o])=>(e[n]=v.fromJSON(o),e),{}):{}}},toJSON(t){const e={};if(t.stickies){const n=Object.entries(t.stickies);n.length>0&&(e.stickies={},n.forEach(([o,i])=>{e.stickies[o]=b.toJSON(i)}))}if(t.users){const n=Object.entries(t.users);n.length>0&&(e.users={},n.forEach(([o,i])=>{e.users[o]=v.toJSON(i)}))}return e},create(t){return ut.fromPartial(t??{})},fromPartial(t){const e=Z();return e.stickies=Object.entries(t.stickies??{}).reduce((n,[o,i])=>(i!==void 0&&(n[o]=b.fromPartial(i)),n),{}),e.users=Object.entries(t.users??{}).reduce((n,[o,i])=>(i!==void 0&&(n[o]=v.fromPartial(i)),n),{}),e}};function Q(){return{key:"",value:void 0}}const P={encode(t,e=new w){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&b.encode(t.value,e.uint32(18).fork()).join(),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=Q();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.key=n.string();continue}case 2:{if(r!==18)break;i.value=b.decode(n,n.uint32());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{key:f(t.key)?globalThis.String(t.key):"",value:f(t.value)?b.fromJSON(t.value):void 0}},toJSON(t){const e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=b.toJSON(t.value)),e},create(t){return P.fromPartial(t??{})},fromPartial(t){const e=Q();return e.key=t.key??"",e.value=t.value!==void 0&&t.value!==null?b.fromPartial(t.value):void 0,e}};function W(){return{key:"",value:void 0}}const J={encode(t,e=new w){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&v.encode(t.value,e.uint32(18).fork()).join(),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=W();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.key=n.string();continue}case 2:{if(r!==18)break;i.value=v.decode(n,n.uint32());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{key:f(t.key)?globalThis.String(t.key):"",value:f(t.value)?v.fromJSON(t.value):void 0}},toJSON(t){const e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=v.toJSON(t.value)),e},create(t){return J.fromPartial(t??{})},fromPartial(t){const e=W();return e.key=t.key??"",e.value=t.value!==void 0&&t.value!==null?v.fromPartial(t.value):void 0,e}};function j(){return{StickyID:""}}const m={encode(t,e=new w){return t.StickyID!==""&&e.uint32(10).string(t.StickyID),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=j();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.StickyID=n.string();continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{StickyID:f(t.StickyID)?globalThis.String(t.StickyID):""}},toJSON(t){const e={};return t.StickyID!==""&&(e.StickyID=t.StickyID),e},create(t){return m.fromPartial(t??{})},fromPartial(t){const e=j();return e.StickyID=t.StickyID??"",e}};function tt(){return{X:0,Y:0}}const N={encode(t,e=new w){return t.X!==0&&e.uint32(8).int64(t.X),t.Y!==0&&e.uint32(16).int64(t.Y),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=tt();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==8)break;i.X=g(n.int64());continue}case 2:{if(r!==16)break;i.Y=g(n.int64());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{X:f(t.X)?globalThis.Number(t.X):0,Y:f(t.Y)?globalThis.Number(t.Y):0}},toJSON(t){const e={};return t.X!==0&&(e.X=Math.round(t.X)),t.Y!==0&&(e.Y=Math.round(t.Y)),e},create(t){return N.fromPartial(t??{})},fromPartial(t){const e=tt();return e.X=t.X??0,e.Y=t.Y??0,e}};function et(){return{StickyID:"",X:0,Y:0}}const x={encode(t,e=new w){return t.StickyID!==""&&e.uint32(10).string(t.StickyID),t.X!==0&&e.uint32(16).int64(t.X),t.Y!==0&&e.uint32(24).int64(t.Y),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=et();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.StickyID=n.string();continue}case 2:{if(r!==16)break;i.X=g(n.int64());continue}case 3:{if(r!==24)break;i.Y=g(n.int64());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{StickyID:f(t.StickyID)?globalThis.String(t.StickyID):"",X:f(t.X)?globalThis.Number(t.X):0,Y:f(t.Y)?globalThis.Number(t.Y):0}},toJSON(t){const e={};return t.StickyID!==""&&(e.StickyID=t.StickyID),t.X!==0&&(e.X=Math.round(t.X)),t.Y!==0&&(e.Y=Math.round(t.Y)),e},create(t){return x.fromPartial(t??{})},fromPartial(t){const e=et();return e.StickyID=t.StickyID??"",e.X=t.X??0,e.Y=t.Y??0,e}};function nt(){return{StickyID:"",content:""}}const B={encode(t,e=new w){return t.StickyID!==""&&e.uint32(10).string(t.StickyID),t.content!==""&&e.uint32(18).string(t.content),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=nt();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.StickyID=n.string();continue}case 2:{if(r!==18)break;i.content=n.string();continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{StickyID:f(t.StickyID)?globalThis.String(t.StickyID):"",content:f(t.content)?globalThis.String(t.content):""}},toJSON(t){const e={};return t.StickyID!==""&&(e.StickyID=t.StickyID),t.content!==""&&(e.content=t.content),e},create(t){return B.fromPartial(t??{})},fromPartial(t){const e=nt();return e.StickyID=t.StickyID??"",e.content=t.content??"",e}};function it(){return{select:void 0,add:void 0,move:void 0,edit:void 0}}const h={encode(t,e=new w){return t.select!==void 0&&m.encode(t.select,e.uint32(10).fork()).join(),t.add!==void 0&&N.encode(t.add,e.uint32(18).fork()).join(),t.move!==void 0&&x.encode(t.move,e.uint32(26).fork()).join(),t.edit!==void 0&&B.encode(t.edit,e.uint32(34).fork()).join(),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=it();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.select=m.decode(n,n.uint32());continue}case 2:{if(r!==18)break;i.add=N.decode(n,n.uint32());continue}case 3:{if(r!==26)break;i.move=x.decode(n,n.uint32());continue}case 4:{if(r!==34)break;i.edit=B.decode(n,n.uint32());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{select:f(t.select)?m.fromJSON(t.select):void 0,add:f(t.add)?N.fromJSON(t.add):void 0,move:f(t.move)?x.fromJSON(t.move):void 0,edit:f(t.edit)?B.fromJSON(t.edit):void 0}},toJSON(t){const e={};return t.select!==void 0&&(e.select=m.toJSON(t.select)),t.add!==void 0&&(e.add=N.toJSON(t.add)),t.move!==void 0&&(e.move=x.toJSON(t.move)),t.edit!==void 0&&(e.edit=B.toJSON(t.edit)),e},create(t){return h.fromPartial(t??{})},fromPartial(t){const e=it();return e.select=t.select!==void 0&&t.select!==null?m.fromPartial(t.select):void 0,e.add=t.add!==void 0&&t.add!==null?N.fromPartial(t.add):void 0,e.move=t.move!==void 0&&t.move!==null?x.fromPartial(t.move):void 0,e.edit=t.edit!==void 0&&t.edit!==null?B.fromPartial(t.edit):void 0,e}};function g(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}function rt(t){return typeof t=="object"&&t!==null}function f(t){return t!=null}const U=100,M=100;var S=document.getElementById("canvas");S.width=.98*window.innerWidth;S.height=.97*window.innerHeight;var u=S.getContext("2d"),gt=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}`,I=new WebSocket(`${gt}/connect?name=browser`);I.binaryType="arraybuffer";var O=[],A,y,F=!1,D=!1,d;I.onmessage=function(t){if(typeof t.data=="string"){A=t.data;return}const e=new Uint8Array(t.data);if(y=ut.decode(e),!d)for(let n in y.stickies)y.stickies[n].selectedBy===A&&(d={id:n})};S.addEventListener("mousedown",function(t){if(t.button!==0)return;const e=t.clientX,n=t.clientY;D=!1;for(let r of O)if(u.isPointInPath(r.path,e,n)){if(d&&r.id==d.id){D=!0;return}const s=h.create({select:{StickyID:r.id}});d={id:r.id,offset:{x:e-y.stickies[r.id].X,y:n-y.stickies[r.id].Y}},F=!0;const c=h.encode(s).finish();I.send(c);return}d=void 0;const o=h.create({add:{X:e-U/2,Y:n-M/2}});var i=h.encode(o).finish();I.send(i)});S.addEventListener("mouseup",function(t){F=!1});S.addEventListener("mousemove",function(t){if(F===!1||d===void 0)return;const e=h.create({move:{StickyID:d.id,X:t.clientX-d.offset.x,Y:t.clientY-d.offset.y}}),n=h.encode(e).finish();I.send(n)});S.addEventListener("keypress",function(t){if(!D||d===void 0)return;const e=h.create({edit:{StickyID:d.id,content:y.stickies[d.id].content+t.key}}),n=h.encode(e).finish();I.send(n)});S.addEventListener("keydown",function(t){if(!(!D||d===void 0)&&t.key==="Backspace"){const e=y.stickies[d.id].content;if(e.length===0)return;const n=h.create({edit:{StickyID:d.id,content:e.substring(0,e.length-1)}}),o=h.encode(n).finish();I.send(o)}});var ot;function _(t){if(!y){requestAnimationFrame(_);return}mt(t-ot),ot=t;var e=[];for(const n in y.stickies)e.push({id:n,sticky:y.stickies[n]});e.sort((n,o)=>n.sticky.height-o.sticky.height),O=[];for(const n of e){const o=It(n.sticky.X,n.sticky.Y,n.sticky.content,n.sticky.selectedBy);O.push({id:n.id,path:o})}O.reverse(),requestAnimationFrame(_)}function It(t,e,n,o){u.moveTo(t,e),u.beginPath();const i=new Path2D;return i.rect(t,e,U,M),u.fillStyle="yellow",o===A?(D?u.strokeStyle="red":u.strokeStyle="blue",u.lineWidth=5):(u.strokeStyle="black",u.lineWidth=2),u.fill(i),u.stroke(i),u.fillStyle="black",u.textAlign="center",u.font="15px Arial",u.fillText(n,t+U/2,e+M/2),i}function mt(t){u.beginPath(),u.clearRect(0,0,S.width,S.height),u.fillStyle="black",u.textAlign="left",u.textBaseline="top",u.font="15px Arial",u.fillText(A,0,0),u.fillText(Math.round(1/t*1e3).toString(),0,20)}requestAnimationFrame(_);
