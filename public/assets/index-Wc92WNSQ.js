(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function ft(){let t=0,e=0;for(let o=0;o<28;o+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<o,(i&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let o=3;o<=31;o+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<o,(i&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function O(t,e,n){for(let r=0;r<28;r=r+7){const s=t>>>r,c=!(!(s>>>7)&&e==0),d=(c?s|128:s)&255;if(n.push(d),!c)return}const o=t>>>28&15|(e&7)<<4,i=e>>3!=0;if(n.push((i?o|128:o)&255),!!i){for(let r=3;r<31;r=r+7){const s=e>>>r,c=!!(s>>>7),d=(c?s|128:s)&255;if(n.push(d),!c)return}n.push(e>>>31&1)}}const D=4294967296;function L(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let o=0,i=0;function r(s,c){const d=Number(t.slice(s,c));i*=n,o=o*n+d,o>=D&&(i=i+(o/D|0),o=o%D)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),e?st(o,i):M(o,i)}function at(t,e){let n=M(t,e);const o=n.hi&2147483648;o&&(n=st(n.lo,n.hi));const i=ot(n.lo,n.hi);return o?"-"+i:i}function ot(t,e){if({lo:t,hi:e}=dt(t,e),e<=2097151)return String(D*e+t);const n=t&16777215,o=(t>>>24|e<<8)&16777215,i=e>>16&65535;let r=n+o*6777216+i*6710656,s=o+i*8147497,c=i*2;const d=1e7;return r>=d&&(s+=Math.floor(r/d),r%=d),s>=d&&(c+=Math.floor(s/d),s%=d),c.toString()+V(s)+V(r)}function dt(t,e){return{lo:t>>>0,hi:e>>>0}}function M(t,e){return{lo:t|0,hi:e|0}}function st(t,e){return e=~e,t?t=~t+1:e+=1,M(t,e)}const V=t=>{const e=String(t);return"0000000".slice(e.length)+e};function G(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function lt(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var R={};const l=ht();function ht(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof R!="object"||R.BUF_BIGINT_DISABLE!=="1")){const n=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),i=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(s){const c=typeof s=="bigint"?s:BigInt(s);if(c>o||c<n)throw new Error(`invalid int64: ${s}`);return c},uParse(s){const c=typeof s=="bigint"?s:BigInt(s);if(c>r||c<i)throw new Error(`invalid uint64: ${s}`);return c},enc(s){return t.setBigInt64(0,this.parse(s),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(s){return t.setBigInt64(0,this.uParse(s),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(s,c){return t.setInt32(0,s,!0),t.setInt32(4,c,!0),t.getBigInt64(0,!0)},uDec(s,c){return t.setInt32(0,s,!0),t.setInt32(4,c,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(n){return typeof n!="string"&&(n=n.toString()),$(n),n},uParse(n){return typeof n!="string"&&(n=n.toString()),C(n),n},enc(n){return typeof n!="string"&&(n=n.toString()),$(n),L(n)},uEnc(n){return typeof n!="string"&&(n=n.toString()),C(n),L(n)},dec(n,o){return at(n,o)},uDec(n,o){return ot(n,o)}}}function $(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function C(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}const A=Symbol.for("@bufbuild/protobuf/text-encoding");function ct(){if(globalThis[A]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[A]={encodeUtf8(n){return t.encode(n)},decodeUtf8(n){return e.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[A]}var S;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(S||(S={}));const kt=34028234663852886e22,yt=-34028234663852886e22,St=4294967295,wt=2147483647,bt=-2147483648;class h{constructor(e=ct().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),o=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],o),o+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(q(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return X(e),G(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.encodeUtf8(e);return this.uint32(n.byteLength),this.raw(n)}float(e){pt(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){q(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){X(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return X(e),e=(e<<1^e>>31)>>>0,G(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),o=new DataView(n.buffer),i=l.enc(e);return o.setInt32(0,i.lo,!0),o.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),o=new DataView(n.buffer),i=l.uEnc(e);return o.setInt32(0,i.lo,!0),o.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=l.enc(e);return O(n.lo,n.hi,this.buf),this}sint64(e){let n=l.enc(e),o=n.hi>>31,i=n.lo<<1^o,r=(n.hi<<1|n.lo>>>31)^o;return O(i,r,this.buf),this}uint64(e){let n=l.uEnc(e);return O(n.lo,n.hi,this.buf),this}}class a{constructor(e,n=ct().decodeUtf8){this.decodeUtf8=n,this.varint64=ft,this.uint32=lt,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),n=e>>>3,o=e&7;if(n<=0||o<0||o>5)throw new Error("illegal tag: field no "+n+" wire type "+o);return[n,o]}skip(e,n){let o=this.pos;switch(e){case S.Varint:for(;this.buf[this.pos++]&128;);break;case S.Bit64:this.pos+=4;case S.Bit32:this.pos+=4;break;case S.LengthDelimited:let i=this.uint32();this.pos+=i;break;case S.StartGroup:for(;;){const[r,s]=this.tag();if(s===S.EndGroup){if(n!==void 0&&r!==n)throw new Error("invalid end group tag");break}this.skip(s,r)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(o,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return l.dec(...this.varint64())}uint64(){return l.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),o=-(e&1);return e=(e>>>1|(n&1)<<31)^o,n=n>>>1^o,l.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return l.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return l.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.decodeUtf8(this.bytes())}}function X(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>wt||t<bt)throw new Error("invalid int32: "+t)}function q(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>St||t<0)throw new Error("invalid uint32: "+t)}function pt(t){if(typeof t=="string"){const e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>kt||t<yt))throw new Error("invalid float32: "+t)}function z(){return{owner:"",selectedBy:void 0,X:0,Y:0,height:0,content:""}}const k={encode(t,e=new h){return t.owner!==""&&e.uint32(10).string(t.owner),t.selectedBy!==void 0&&e.uint32(18).string(t.selectedBy),t.X!==0&&e.uint32(24).int64(t.X),t.Y!==0&&e.uint32(32).int64(t.Y),t.height!==0&&e.uint32(40).int64(t.height),t.content!==""&&e.uint32(50).string(t.content),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=z();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.owner=n.string();continue}case 2:{if(r!==18)break;i.selectedBy=n.string();continue}case 3:{if(r!==24)break;i.X=p(n.int64());continue}case 4:{if(r!==32)break;i.Y=p(n.int64());continue}case 5:{if(r!==40)break;i.height=p(n.int64());continue}case 6:{if(r!==50)break;i.content=n.string();continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{owner:u(t.owner)?globalThis.String(t.owner):"",selectedBy:u(t.selectedBy)?globalThis.String(t.selectedBy):void 0,X:u(t.X)?globalThis.Number(t.X):0,Y:u(t.Y)?globalThis.Number(t.Y):0,height:u(t.height)?globalThis.Number(t.height):0,content:u(t.content)?globalThis.String(t.content):""}},toJSON(t){const e={};return t.owner!==""&&(e.owner=t.owner),t.selectedBy!==void 0&&(e.selectedBy=t.selectedBy),t.X!==0&&(e.X=Math.round(t.X)),t.Y!==0&&(e.Y=Math.round(t.Y)),t.height!==0&&(e.height=Math.round(t.height)),t.content!==""&&(e.content=t.content),e},create(t){return k.fromPartial(t??{})},fromPartial(t){const e=z();return e.owner=t.owner??"",e.selectedBy=t.selectedBy??void 0,e.X=t.X??0,e.Y=t.Y??0,e.height=t.height??0,e.content=t.content??"",e}};function H(){return{name:"",hasSelected:void 0}}const y={encode(t,e=new h){return t.name!==""&&e.uint32(10).string(t.name),t.hasSelected!==void 0&&e.uint32(18).string(t.hasSelected),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=H();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.name=n.string();continue}case 2:{if(r!==18)break;i.hasSelected=n.string();continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{name:u(t.name)?globalThis.String(t.name):"",hasSelected:u(t.hasSelected)?globalThis.String(t.hasSelected):void 0}},toJSON(t){const e={};return t.name!==""&&(e.name=t.name),t.hasSelected!==void 0&&(e.hasSelected=t.hasSelected),e},create(t){return y.fromPartial(t??{})},fromPartial(t){const e=H();return e.name=t.name??"",e.hasSelected=t.hasSelected??void 0,e}};function K(){return{stickies:{},users:{}}}const ut={encode(t,e=new h){return Object.entries(t.stickies).forEach(([n,o])=>{T.encode({key:n,value:o},e.uint32(10).fork()).join()}),Object.entries(t.users).forEach(([n,o])=>{Y.encode({key:n,value:o},e.uint32(18).fork()).join()}),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=K();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;const s=T.decode(n,n.uint32());s.value!==void 0&&(i.stickies[s.key]=s.value);continue}case 2:{if(r!==18)break;const s=Y.decode(n,n.uint32());s.value!==void 0&&(i.users[s.key]=s.value);continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{stickies:it(t.stickies)?Object.entries(t.stickies).reduce((e,[n,o])=>(e[n]=k.fromJSON(o),e),{}):{},users:it(t.users)?Object.entries(t.users).reduce((e,[n,o])=>(e[n]=y.fromJSON(o),e),{}):{}}},toJSON(t){const e={};if(t.stickies){const n=Object.entries(t.stickies);n.length>0&&(e.stickies={},n.forEach(([o,i])=>{e.stickies[o]=k.toJSON(i)}))}if(t.users){const n=Object.entries(t.users);n.length>0&&(e.users={},n.forEach(([o,i])=>{e.users[o]=y.toJSON(i)}))}return e},create(t){return ut.fromPartial(t??{})},fromPartial(t){const e=K();return e.stickies=Object.entries(t.stickies??{}).reduce((n,[o,i])=>(i!==void 0&&(n[o]=k.fromPartial(i)),n),{}),e.users=Object.entries(t.users??{}).reduce((n,[o,i])=>(i!==void 0&&(n[o]=y.fromPartial(i)),n),{}),e}};function Z(){return{key:"",value:void 0}}const T={encode(t,e=new h){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&k.encode(t.value,e.uint32(18).fork()).join(),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=Z();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.key=n.string();continue}case 2:{if(r!==18)break;i.value=k.decode(n,n.uint32());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{key:u(t.key)?globalThis.String(t.key):"",value:u(t.value)?k.fromJSON(t.value):void 0}},toJSON(t){const e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=k.toJSON(t.value)),e},create(t){return T.fromPartial(t??{})},fromPartial(t){const e=Z();return e.key=t.key??"",e.value=t.value!==void 0&&t.value!==null?k.fromPartial(t.value):void 0,e}};function Q(){return{key:"",value:void 0}}const Y={encode(t,e=new h){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&y.encode(t.value,e.uint32(18).fork()).join(),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=Q();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.key=n.string();continue}case 2:{if(r!==18)break;i.value=y.decode(n,n.uint32());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{key:u(t.key)?globalThis.String(t.key):"",value:u(t.value)?y.fromJSON(t.value):void 0}},toJSON(t){const e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=y.toJSON(t.value)),e},create(t){return Y.fromPartial(t??{})},fromPartial(t){const e=Q();return e.key=t.key??"",e.value=t.value!==void 0&&t.value!==null?y.fromPartial(t.value):void 0,e}};function W(){return{StickyID:""}}const g={encode(t,e=new h){return t.StickyID!==""&&e.uint32(10).string(t.StickyID),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=W();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.StickyID=n.string();continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{StickyID:u(t.StickyID)?globalThis.String(t.StickyID):""}},toJSON(t){const e={};return t.StickyID!==""&&(e.StickyID=t.StickyID),e},create(t){return g.fromPartial(t??{})},fromPartial(t){const e=W();return e.StickyID=t.StickyID??"",e}};function j(){return{X:0,Y:0}}const I={encode(t,e=new h){return t.X!==0&&e.uint32(8).int64(t.X),t.Y!==0&&e.uint32(16).int64(t.Y),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=j();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==8)break;i.X=p(n.int64());continue}case 2:{if(r!==16)break;i.Y=p(n.int64());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{X:u(t.X)?globalThis.Number(t.X):0,Y:u(t.Y)?globalThis.Number(t.Y):0}},toJSON(t){const e={};return t.X!==0&&(e.X=Math.round(t.X)),t.Y!==0&&(e.Y=Math.round(t.Y)),e},create(t){return I.fromPartial(t??{})},fromPartial(t){const e=j();return e.X=t.X??0,e.Y=t.Y??0,e}};function tt(){return{StickyID:"",X:0,Y:0}}const m={encode(t,e=new h){return t.StickyID!==""&&e.uint32(10).string(t.StickyID),t.X!==0&&e.uint32(16).int64(t.X),t.Y!==0&&e.uint32(24).int64(t.Y),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=tt();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.StickyID=n.string();continue}case 2:{if(r!==16)break;i.X=p(n.int64());continue}case 3:{if(r!==24)break;i.Y=p(n.int64());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{StickyID:u(t.StickyID)?globalThis.String(t.StickyID):"",X:u(t.X)?globalThis.Number(t.X):0,Y:u(t.Y)?globalThis.Number(t.Y):0}},toJSON(t){const e={};return t.StickyID!==""&&(e.StickyID=t.StickyID),t.X!==0&&(e.X=Math.round(t.X)),t.Y!==0&&(e.Y=Math.round(t.Y)),e},create(t){return m.fromPartial(t??{})},fromPartial(t){const e=tt();return e.StickyID=t.StickyID??"",e.X=t.X??0,e.Y=t.Y??0,e}};function et(){return{StickyID:"",content:""}}const N={encode(t,e=new h){return t.StickyID!==""&&e.uint32(10).string(t.StickyID),t.content!==""&&e.uint32(18).string(t.content),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=et();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.StickyID=n.string();continue}case 2:{if(r!==18)break;i.content=n.string();continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{StickyID:u(t.StickyID)?globalThis.String(t.StickyID):"",content:u(t.content)?globalThis.String(t.content):""}},toJSON(t){const e={};return t.StickyID!==""&&(e.StickyID=t.StickyID),t.content!==""&&(e.content=t.content),e},create(t){return N.fromPartial(t??{})},fromPartial(t){const e=et();return e.StickyID=t.StickyID??"",e.content=t.content??"",e}};function nt(){return{select:void 0,add:void 0,move:void 0,edit:void 0}}const b={encode(t,e=new h){return t.select!==void 0&&g.encode(t.select,e.uint32(10).fork()).join(),t.add!==void 0&&I.encode(t.add,e.uint32(18).fork()).join(),t.move!==void 0&&m.encode(t.move,e.uint32(26).fork()).join(),t.edit!==void 0&&N.encode(t.edit,e.uint32(34).fork()).join(),e},decode(t,e){const n=t instanceof a?t:new a(t);let o=e===void 0?n.len:n.pos+e;const i=nt();for(;n.pos<o;){const r=n.uint32();switch(r>>>3){case 1:{if(r!==10)break;i.select=g.decode(n,n.uint32());continue}case 2:{if(r!==18)break;i.add=I.decode(n,n.uint32());continue}case 3:{if(r!==26)break;i.move=m.decode(n,n.uint32());continue}case 4:{if(r!==34)break;i.edit=N.decode(n,n.uint32());continue}}if((r&7)===4||r===0)break;n.skip(r&7)}return i},fromJSON(t){return{select:u(t.select)?g.fromJSON(t.select):void 0,add:u(t.add)?I.fromJSON(t.add):void 0,move:u(t.move)?m.fromJSON(t.move):void 0,edit:u(t.edit)?N.fromJSON(t.edit):void 0}},toJSON(t){const e={};return t.select!==void 0&&(e.select=g.toJSON(t.select)),t.add!==void 0&&(e.add=I.toJSON(t.add)),t.move!==void 0&&(e.move=m.toJSON(t.move)),t.edit!==void 0&&(e.edit=N.toJSON(t.edit)),e},create(t){return b.fromPartial(t??{})},fromPartial(t){const e=nt();return e.select=t.select!==void 0&&t.select!==null?g.fromPartial(t.select):void 0,e.add=t.add!==void 0&&t.add!==null?I.fromPartial(t.add):void 0,e.move=t.move!==void 0&&t.move!==null?m.fromPartial(t.move):void 0,e.edit=t.edit!==void 0&&t.edit!==null?N.fromPartial(t.edit):void 0,e}};function p(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}function it(t){return typeof t=="object"&&t!==null}function u(t){return t!=null}const P=100,J=100;var w=document.getElementById("canvas");w.width=.98*window.innerWidth;w.height=.97*window.innerHeight;var f=w.getContext("2d"),vt=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}`,B=new WebSocket(`${vt}/connect?name=browser`);B.binaryType="arraybuffer";var E=[],_,v,F=!1,x;B.onmessage=function(t){if(typeof t.data=="string"){_=t.data;return}const e=new Uint8Array(t.data);v=ut.decode(e)};w.addEventListener("mousedown",function(t){if(t.button!==0)return;const e=t.clientX,n=t.clientY;for(let r of E)if(f.isPointInPath(r.path,e,n)){const s=b.create({select:{StickyID:r.id}});x={id:r.id,sticky:v.stickies[r.id],offset:{x:e-v.stickies[r.id].X,y:n-v.stickies[r.id].Y}},console.log(x),F=!0;const c=b.encode(s).finish();B.send(c);return}const o=b.create({add:{X:e-P/2,Y:n-J/2}});var i=b.encode(o).finish();B.send(i)});w.addEventListener("mouseup",function(t){F=!1});w.addEventListener("mousemove",function(t){if(F===!1)return;const e=t.clientX,n=t.clientY,o=b.create({move:{StickyID:x.id,X:e-x.offset.x,Y:n-x.offset.y}}),i=b.encode(o).finish();B.send(i)});var rt;function U(t){if(!v){requestAnimationFrame(U);return}It(t-rt),rt=t;var e=[];for(const n in v.stickies)e.push({id:n,sticky:v.stickies[n]});e.sort((n,o)=>n.sticky.height-o.sticky.height),E=[];for(const n of e){const o=gt(n.sticky.X,n.sticky.Y,n.sticky.content,n.sticky.selectedBy);E.push({id:n.id,path:o})}E.reverse(),requestAnimationFrame(U)}function gt(t,e,n,o){f.moveTo(t,e),f.beginPath();const i=new Path2D;return i.rect(t,e,P,J),f.fillStyle="yellow",o===_?(f.strokeStyle="blue",f.lineWidth=5):(f.strokeStyle="black",f.lineWidth=2),f.fill(i),f.stroke(i),f.fillStyle="black",f.textAlign="center",f.font="15px Arial",f.fillText(n,t+P/2,e+J/2),i}function It(t){f.beginPath(),f.clearRect(0,0,w.width,w.height),f.fillStyle="black",f.textAlign="left",f.textBaseline="top",f.font="15px Arial",f.fillText(_,0,0),f.fillText(Math.round(1/t*1e3).toString(),0,20)}requestAnimationFrame(U);
